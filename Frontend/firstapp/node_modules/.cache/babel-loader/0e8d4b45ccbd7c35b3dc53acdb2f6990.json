{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\Header.js\";\n// import React, { useState } from \"react\";\n// import { useHistory } from \"react-router-dom\"; // ✅ Correct import for React Router v5\n// import Register from \"./auth/Register\";\n// import Login from \"./auth/Login\";\n// import \"./Header.css\";\n\n// const Header = () => {\n//   const history = useHistory(); // ✅ Initialize history for navigation\n//   const [openRegister, setOpenRegister] = useState(false);\n//   const [openLogin, setOpenLogin] = useState(false);\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [userRole, setUserRole] = useState(null); // ✅ Define userRole state\n\n//   const handleLogin = (token, role) => {\n//     console.log(\"✅ User logged in with token:\", token);\n//     localStorage.setItem(\"token\", token);\n//     localStorage.setItem(\"role\", role); // ✅ Store role\n//     setIsAuthenticated(true);\n//     setUserRole(role); // ✅ Update state\n\n//     // ✅ Use history correctly for navigation\n//     if (role === \"artist\") {\n//       history.push(\"/artist-dashboard\");\n//     } else {\n//       history.push(\"/dashboard\");\n//     }\n//   };\n\n//   // ✅ Define handleLogout function\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"role\");\n//     localStorage.removeItem(\"username\");\n//     history.push(\"/login\"); // Redirect to login page\n//   };\n//   return (\n//     <header className=\"tinted-header\">\n//       <h1 className=\"header-title\">Welcome To ArtFusion</h1>\n//       <div className=\"button-container\">\n//         {isAuthenticated ? (\n//           <>\n//             <button\n//               className=\"auth-button\"\n//               onClick={() => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")}\n//             >\n//               Dashboard\n//             </button>\n//             <button className=\"auth-button logout\" onClick={handleLogout}>\n//               Logout\n//             </button>\n//           </>\n//         ) : (\n//           <>\n//             <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\n//               Register\n//             </button>\n//             <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\n//               Login\n//             </button>\n//           </>\n//         )}\n//       </div>\n\n//       {/* Signup & Login Dialogs */}\n//       <Register open={openRegister} onClose={() => setOpenRegister(false)} />\n//       <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\n//     </header>\n//   );\n// };\n\n// export default Header;\nimport React, { useState, useEffect } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\"; // ✅ Import NavLink and useHistory\nimport Register from \"./auth/Register\";\nimport Login from \"./auth/Login\";\nimport \"./Header.css\";\nconst Header = () => {\n  const history = useHistory();\n  const [openRegister, setOpenRegister] = useState(false);\n  const [openLogin, setOpenLogin] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  useEffect(() => {\n    var _localStorage$getItem;\n    const token = localStorage.getItem(\"token\");\n    const role = (_localStorage$getItem = localStorage.getItem(\"role\")) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.toLowerCase(); // Ensure lowercase comparison\n    setIsAuthenticated(!!token);\n    setUserRole(role);\n  }, []);\n  const handleLogin = (token, role) => {\n    console.log(\"✅ User logged in with token:\", token);\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"role\", role.toLowerCase());\n    setIsAuthenticated(true);\n    setUserRole(role.toLowerCase());\n\n    // ✅ Redirecting to correct dashboard\n    history.push(role.toLowerCase() === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\");\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsAuthenticated(false);\n    setUserRole(null);\n    history.push(\"/login\");\n  };\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"tinted-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, \"Welcome To ArtFusion\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\",\n    className: \"auth-button\",\n    activeClassName: \"active-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button logout\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Register, {\n    open: openRegister,\n    onClose: () => setOpenRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    open: openLogin,\n    onClose: () => setOpenLogin(false),\n    onLogin: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Header;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useHistory","Register","Login","Header","history","openRegister","setOpenRegister","openLogin","setOpenLogin","isAuthenticated","setIsAuthenticated","userRole","setUserRole","_localStorage$getItem","token","localStorage","getItem","role","toLowerCase","handleLogin","console","log","setItem","push","handleLogout","clear","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","to","activeClassName","onClick","open","onClose","onLogin"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/Header.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { useHistory } from \"react-router-dom\"; // ✅ Correct import for React Router v5\r\n// import Register from \"./auth/Register\";\r\n// import Login from \"./auth/Login\";\r\n// import \"./Header.css\";\r\n\r\n// const Header = () => {\r\n//   const history = useHistory(); // ✅ Initialize history for navigation\r\n//   const [openRegister, setOpenRegister] = useState(false);\r\n//   const [openLogin, setOpenLogin] = useState(false);\r\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n//   const [userRole, setUserRole] = useState(null); // ✅ Define userRole state\r\n\r\n//   const handleLogin = (token, role) => {\r\n//     console.log(\"✅ User logged in with token:\", token);\r\n//     localStorage.setItem(\"token\", token);\r\n//     localStorage.setItem(\"role\", role); // ✅ Store role\r\n//     setIsAuthenticated(true);\r\n//     setUserRole(role); // ✅ Update state\r\n\r\n//     // ✅ Use history correctly for navigation\r\n//     if (role === \"artist\") {\r\n//       history.push(\"/artist-dashboard\");\r\n//     } else {\r\n//       history.push(\"/dashboard\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Define handleLogout function\r\n//   const handleLogout = () => {\r\n//     localStorage.removeItem(\"token\");\r\n//     localStorage.removeItem(\"role\");\r\n//     localStorage.removeItem(\"username\");\r\n//     history.push(\"/login\"); // Redirect to login page\r\n//   };\r\n//   return (\r\n//     <header className=\"tinted-header\">\r\n//       <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n//       <div className=\"button-container\">\r\n//         {isAuthenticated ? (\r\n//           <>\r\n//             <button\r\n//               className=\"auth-button\"\r\n//               onClick={() => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")}\r\n//             >\r\n//               Dashboard\r\n//             </button>\r\n//             <button className=\"auth-button logout\" onClick={handleLogout}>\r\n//               Logout\r\n//             </button>\r\n//           </>\r\n//         ) : (\r\n//           <>\r\n//             <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n//               Register\r\n//             </button>\r\n//             <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n//               Login\r\n//             </button>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n\r\n//       {/* Signup & Login Dialogs */}\r\n//       <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n//       <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n//     </header>\r\n//   );\r\n// };\r\n\r\n// export default Header;\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\"; // ✅ Import NavLink and useHistory\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const [openRegister, setOpenRegister] = useState(false);\r\n  const [openLogin, setOpenLogin] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [userRole, setUserRole] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const role = localStorage.getItem(\"role\")?.toLowerCase(); // Ensure lowercase comparison\r\n    setIsAuthenticated(!!token);\r\n    setUserRole(role);\r\n  }, []);\r\n\r\n  const handleLogin = (token, role) => {\r\n    console.log(\"✅ User logged in with token:\", token);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"role\", role.toLowerCase());\r\n    setIsAuthenticated(true);\r\n    setUserRole(role.toLowerCase());\r\n\r\n    // ✅ Redirecting to correct dashboard\r\n    history.push(role.toLowerCase() === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\");\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setIsAuthenticated(false);\r\n    setUserRole(null);\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"tinted-header\">\r\n      <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n      <div className=\"button-container\">\r\n        {isAuthenticated ? (\r\n          <>\r\n            {/* ✅ NavLink for Routing */}\r\n            <NavLink\r\n              to={userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\"}\r\n              className=\"auth-button\"\r\n              activeClassName=\"active-link\"\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n\r\n            <button className=\"auth-button logout\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n              Register\r\n            </button>\r\n            <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n              Login\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Register & Login Components */}\r\n      <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n      <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}