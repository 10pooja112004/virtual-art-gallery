{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\Header.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation, Link } from \"react-router-dom\";\nimport Register from \"./auth/Register\";\nimport Login from \"./auth/Login\";\nimport AboutUs from \"./AboutUs\";\nimport \"./Header.css\";\nconst Header = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [openRegister, setOpenRegister] = useState(false);\n  const [openLogin, setOpenLogin] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const role = localStorage.getItem(\"role\");\n    if (token && role) {\n      setIsAuthenticated(true);\n      setUserRole(role.toLowerCase()); // Normalize to lowercase\n    }\n  }, [location.pathname]);\n  const handleLogin = (token, userId, role) => {\n    const normalizedRole = role.toLowerCase(); // ✅ normalize here\n\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"userId\", userId);\n    localStorage.setItem(\"role\", normalizedRole);\n    setIsAuthenticated(true);\n    setUserRole(normalizedRole);\n\n    // Redirect based on role\n    if (normalizedRole === \"buyer\") {\n      history.push(\"/dashboard\");\n    } else if (normalizedRole === \"artist\") {\n      history.push(\"/artist-dashboard\");\n    } else if (normalizedRole === \"admin\") {\n      history.push(\"/admin-dashboard\"); // ✅ Add this\n    }\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsAuthenticated(false);\n    setUserRole(null);\n    history.push(\"/login\");\n  };\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"tinted-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Welcome To ArtFusion\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/about\",\n    style: {\n      color: 'white',\n      textDecoration: 'none',\n      fontWeight: 'bold',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 8\n    }\n  }, \"About Us\"), isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button logout\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Register, {\n    open: openRegister,\n    onClose: () => setOpenRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    open: openLogin,\n    onClose: () => setOpenLogin(false),\n    onLogin: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Header;","map":{"version":3,"names":["React","useEffect","useState","useHistory","useLocation","Link","Register","Login","AboutUs","Header","history","location","openRegister","setOpenRegister","openLogin","setOpenLogin","isAuthenticated","setIsAuthenticated","userRole","setUserRole","token","localStorage","getItem","role","toLowerCase","pathname","handleLogin","userId","normalizedRole","setItem","push","handleLogout","clear","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","style","color","textDecoration","fontWeight","fontSize","Fragment","onClick","open","onClose","onLogin"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/Header.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation,Link} from \"react-router-dom\";\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport AboutUs from \"./AboutUs\";\r\n\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [openRegister, setOpenRegister] = useState(false);\r\n  const [openLogin, setOpenLogin] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [userRole, setUserRole] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const role = localStorage.getItem(\"role\");\r\n\r\n    if (token && role) {\r\n      setIsAuthenticated(true);\r\n      setUserRole(role.toLowerCase()); // Normalize to lowercase\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const handleLogin = (token, userId, role) => {\r\n    const normalizedRole = role.toLowerCase(); // ✅ normalize here\r\n\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"userId\", userId);\r\n    localStorage.setItem(\"role\", normalizedRole);\r\n\r\n    setIsAuthenticated(true);\r\n    setUserRole(normalizedRole);\r\n\r\n    // Redirect based on role\r\n    if (normalizedRole === \"buyer\") {\r\n      history.push(\"/dashboard\");\r\n    } else if (normalizedRole === \"artist\") {\r\n      history.push(\"/artist-dashboard\");\r\n    } else if (normalizedRole === \"admin\") {\r\n      history.push(\"/admin-dashboard\"); // ✅ Add this\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setIsAuthenticated(false);\r\n    setUserRole(null);\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"tinted-header\">\r\n      <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n      <div className=\"button-container\">\r\n       <Link to=\"/about\" style={{ color: 'white', textDecoration: 'none' ,fontWeight: 'bold',fontSize: '18px'}}>\r\n  About Us\r\n</Link>\r\n\r\n       \r\n        {isAuthenticated ? (\r\n          <>\r\n            <button\r\n              className=\"auth-button\"\r\n              onClick={() =>\r\n                history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")\r\n              }\r\n            >\r\n              Dashboard\r\n            </button>\r\n            <button className=\"auth-button logout\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n              Register\r\n            </button>\r\n            <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n              Login\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n      <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}