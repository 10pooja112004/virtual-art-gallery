{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\userboard\\\\OrderDetails.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nconst OrderDetails = () => {\n  const {\n    orderId\n  } = useParams();\n  const [order, setOrder] = useState(null);\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/api/payments/${orderId}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setOrder(response.data);\n\n        // üîÅ Create payment intent after fetching order\n        const intentRes = await axios.post(\"http://localhost:8080/api/payments/create-payment-intent\", {\n          orderId: response.data.orderId\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        console.log(\"‚úÖ Payment Intent created:\", intentRes.data);\n      } catch (error) {\n        console.error(\"Failed to fetch order or create payment intent:\", error);\n      }\n    };\n    if (orderId) {\n      fetchOrder();\n    }\n  }, [orderId]);\n  if (!order) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, \"Loading order details...\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Order Details\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"300px\",\n      padding: \"15px\",\n      borderRadius: \"10px\",\n      backgroundColor: \"#f0f0f0\",\n      boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: order.imageUrl,\n    alt: order.artworkTitle,\n    style: {\n      width: \"100%\",\n      height: \"200px\",\n      objectFit: \"cover\",\n      borderRadius: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, order.artworkTitle), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Artist:\"), \" \", order.artistName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Price:\"), \" \\u20B9\", order.price), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Date:\"), \" \", new Date(order.createdAt).toLocaleDateString()), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Transaction ID:\"), \" \", order.transactionId), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Status:\"), \" \", order.status)));\n};\nexport default OrderDetails;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","OrderDetails","orderId","order","setOrder","fetchOrder","response","get","headers","Authorization","localStorage","getItem","data","intentRes","post","console","log","error","createElement","style","textAlign","marginTop","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","padding","width","borderRadius","backgroundColor","boxShadow","src","imageUrl","alt","artworkTitle","height","objectFit","artistName","price","Date","createdAt","toLocaleDateString","transactionId","status"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/userboard/OrderDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst OrderDetails = () => {\r\n  const { orderId } = useParams();\r\n  const [order, setOrder] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:8080/api/payments/${orderId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          }\r\n        );\r\n        setOrder(response.data);\r\n\r\n        // üîÅ Create payment intent after fetching order\r\n        const intentRes = await axios.post(\r\n          \"http://localhost:8080/api/payments/create-payment-intent\",\r\n          {\r\n            orderId: response.data.orderId,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n\r\n        console.log(\"‚úÖ Payment Intent created:\", intentRes.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch order or create payment intent:\", error);\r\n      }\r\n    };\r\n\r\n    if (orderId) {\r\n      fetchOrder();\r\n    }\r\n  }, [orderId]);\r\n\r\n  if (!order) {\r\n    return (\r\n      <h2 style={{ textAlign: \"center\", marginTop: \"50px\" }}>\r\n        Loading order details...\r\n      </h2>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Order Details</h2>\r\n      <div\r\n        style={{\r\n          width: \"300px\",\r\n          padding: \"15px\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"#f0f0f0\",\r\n          boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\r\n        }}\r\n      >\r\n        <img\r\n          src={order.imageUrl}\r\n          alt={order.artworkTitle}\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"200px\",\r\n            objectFit: \"cover\",\r\n            borderRadius: \"8px\",\r\n          }}\r\n        />\r\n        <h3>{order.artworkTitle}</h3>\r\n        <p>\r\n          <strong>Artist:</strong> {order.artistName}\r\n        </p>\r\n        <p>\r\n          <strong>Price:</strong> ‚Çπ{order.price}\r\n        </p>\r\n        <p>\r\n          <strong>Date:</strong>{\" \"}\r\n          {new Date(order.createdAt).toLocaleDateString()}\r\n        </p>\r\n        <p>\r\n          <strong>Transaction ID:</strong> {order.transactionId}\r\n        </p>\r\n        <p>\r\n          <strong>Status:</strong> {order.status}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}