{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\userboard\\\\CartPage.js\";\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import { FaDownload, FaTrash } from \"react-icons/fa\";\n\n// const CartPage = () => {\n//   const [cartItems, setCartItems] = useState([]);\n//   const [purchasedIndexes, setPurchasedIndexes] = useState([]);\n\n//   useEffect(() => {\n//     const fetchCartItems = async () => {\n//       try {\n//         const response = await axios.get(\"http://localhost:8080/api/cart/items\", {\n//           headers: {\n//             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n//           },\n//         });\n//         setCartItems(response.data);\n//       } catch (error) {\n//         console.error(\"Failed to fetch cart items:\", error);\n//       }\n//     };\n\n//     fetchCartItems();\n//   }, []);\n\n//   const handleBuyNow = (index) => {\n//     setPurchasedIndexes([...purchasedIndexes, index]);\n//   };\n\n//   const handleDownload = (imageUrl, title) => {\n//     const link = document.createElement(\"a\");\n//     link.href = imageUrl;\n//     link.download = `${title || \"artwork\"}.jpg`;\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//   };\n\n//   const handleCancel = async (cartItemId, index) => {\n//     const token = localStorage.getItem(\"token\");\n\n//     if (!token) {\n//       console.error(\"No token found in localStorage\");\n//       return;\n//     }\n\n//     try {\n//       const response = await axios.delete(`http://localhost:8080/api/cart/remove/${cartItemId}`, {\n//         headers: {\n//           Authorization: `Bearer ${token}`,\n//         },\n//       });\n\n//       console.log(\"Delete response:\", response.data);\n\n//       const updatedItems = cartItems.filter((_, idx) => idx !== index);\n//       setCartItems(updatedItems);\n//       setPurchasedIndexes(purchasedIndexes.filter((i) => i !== index));\n//     } catch (error) {\n//       console.error(\"Error removing item from cart:\", error.response || error);\n//     }\n//   };\n\n//   if (!cartItems || cartItems.length === 0) {\n//     return <h2 style={{ textAlign: \"center\", marginTop: \"50px\" }}>Your cart is empty.</h2>;\n//   }\n\n//   return (\n//     <div\n//       style={{\n//         padding: \"20px\",\n//         backgroundImage: `url(\"/website.png\")`,\n//         backgroundSize: \"100% 100%\",\n//         backgroundRepeat: \"no-repeat\",\n//         backgroundPosition: \"center\",\n//         backgroundAttachment: \"fixed\",\n//         minHeight: \"100vh\",\n//         width: \"100vw\",\n//         overflowX: \"hidden\",\n//       }}\n//     >\n//       <h2 style={{ marginBottom: \"30px\", textAlign: \"left\" }}>Shopping Cart</h2>\n\n//       <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\", gap: \"30px\" }}>\n//         {cartItems.map((item, index) => {\n//           console.log(\"Cart item:\", item); // Debug log added here\n\n//           return (\n//             <div\n//               key={index}\n//               style={{\n//                 width: \"280px\",\n//                 padding: \"20px\",\n//                 borderRadius: \"10px\",\n//                 backgroundColor: \"#f9f9f9\",\n//                 boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\n//               }}\n//             >\n//               {item.imageUrl ? (\n//                 <img\n//                   src={item.imageUrl}\n//                   alt={item.title || `Art ${index}`}\n//                   style={{\n//                     width: \"100%\",\n//                     height: \"200px\",\n//                     objectFit: \"cover\",\n//                     borderRadius: \"8px\",\n//                     marginBottom: \"10px\",\n//                   }}\n//                 />\n//               ) : (\n//                 <div\n//                   style={{\n//                     width: \"100%\",\n//                     height: \"200px\",\n//                     backgroundColor: \"#e0e0e0\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     justifyContent: \"center\",\n//                     borderRadius: \"8px\",\n//                     marginBottom: \"10px\",\n//                     color: \"#666\",\n//                     fontSize: \"14px\",\n//                   }}\n//                 >\n//                   No Image Available\n//                 </div>\n//               )}\n\n//               <h3 style={{ margin: \"10px 0 5px\" }}>{item.title || \"Artwork\"}</h3>\n//               <p style={{ margin: \"0 0 10px\" }}>{item.price ? `â‚¹${item.price}` : \"\"}</p>\n\n//               {!purchasedIndexes.includes(index) ? (\n//                 <button\n//                   onClick={() => handleBuyNow(index)}\n//                   style={{\n//                     padding: \"10px 20px\",\n//                     fontSize: \"16px\",\n//                     backgroundColor: \"#28a745\",\n//                     color: \"white\",\n//                     border: \"none\",\n//                     borderRadius: \"5px\",\n//                     cursor: \"pointer\",\n//                     marginBottom: \"10px\",\n//                   }}\n//                 >\n//                   Buy Now\n//                 </button>\n//               ) : (\n//                 <button\n//                   onClick={() => handleDownload(item.imageUrl, item.title)}\n//                   style={{\n//                     padding: \"10px 20px\",\n//                     fontSize: \"16px\",\n//                     backgroundColor: \"#ffcc00\",\n//                     color: \"black\",\n//                     border: \"none\",\n//                     borderRadius: \"5px\",\n//                     display: \"flex\",\n//                     alignItems: \"center\",\n//                     gap: \"8px\",\n//                     cursor: \"pointer\",\n//                     marginBottom: \"10px\",\n//                   }}\n//                 >\n//                   <FaDownload /> Download\n//                 </button>\n//               )}\n\n//               <button\n//                 onClick={() => handleCancel(item.cartItemId, index)}\n//                 style={{\n//                   padding: \"6px 12px\",\n//                   fontSize: \"14px\",\n//                   backgroundColor: \"#dc3545\",\n//                   color: \"white\",\n//                   border: \"none\",\n//                   borderRadius: \"5px\",\n//                   cursor: \"pointer\",\n//                   display: \"flex\",\n//                   alignItems: \"center\",\n//                   gap: \"6px\",\n//                 }}\n//               >\n//                 <FaTrash />\n//                 Cancel\n//               </button>\n//             </div>\n//           );\n//         })}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default CartPage;\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FaDownload, FaTrash } from \"react-icons/fa\";\nconst CartPage = () => {\n  const [cartItems, setCartItems] = useState([]);\n  const [purchasedIndexes, setPurchasedIndexes] = useState([]);\n  useEffect(() => {\n    const fetchCartItems = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/cart/items\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setCartItems(response.data);\n      } catch (error) {\n        console.error(\"Failed to fetch cart items:\", error);\n      }\n    };\n    fetchCartItems();\n  }, []);\n  const handleBuyNow = async (item, index) => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const response = await axios.post(`http://localhost:8080/api/orders/checkout/single/${item.cartItemId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Order placed:\", response.data);\n      setPurchasedIndexes([...purchasedIndexes, index]);\n      alert(`Order placed successfully for \"${item.artworkTitle}\"`);\n    } catch (error) {\n      console.error(\"Order failed:\", error.response || error);\n      alert(\"Failed to place order. Please try again.\");\n    }\n  };\n  const handleDownload = (imageUrl, title) => {\n    const link = document.createElement(\"a\");\n    link.href = imageUrl;\n    link.download = `${title || \"artwork\"}.jpg`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const handleCancel = async (cartItemId, index) => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.error(\"No token found in localStorage\");\n      return;\n    }\n    try {\n      const response = await axios.delete(`http://localhost:8080/api/cart/remove/${cartItemId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Delete response:\", response.data);\n      const updatedItems = cartItems.filter((_, idx) => idx !== index);\n      setCartItems(updatedItems);\n      setPurchasedIndexes(purchasedIndexes.filter(i => i !== index));\n    } catch (error) {\n      console.error(\"Error removing item from cart:\", error.response || error);\n    }\n  };\n  if (!cartItems || cartItems.length === 0) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 12\n      }\n    }, \"Your cart is empty.\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      backgroundImage: `url(\"/website.png\")`,\n      backgroundSize: \"100% 100%\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center\",\n      backgroundAttachment: \"fixed\",\n      minHeight: \"100vh\",\n      width: \"100vw\",\n      overflowX: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      marginBottom: \"30px\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }, \"Shopping Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      gap: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }\n  }, cartItems.map((item, index) => {\n    console.log(\"Cart item:\", item);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      style: {\n        width: \"280px\",\n        padding: \"20px\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#f9f9f9\",\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }\n    }, item.imageUrl ? /*#__PURE__*/React.createElement(\"img\", {\n      src: item.imageUrl,\n      alt: item.artworkTitle || `Art ${index}`,\n      style: {\n        width: \"100%\",\n        height: \"200px\",\n        objectFit: \"cover\",\n        borderRadius: \"8px\",\n        marginBottom: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"200px\",\n        backgroundColor: \"#e0e0e0\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"8px\",\n        marginBottom: \"10px\",\n        color: \"#666\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }, \"No Image Available\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        margin: \"10px 0 5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 15\n      }\n    }, item.artworkTitle || \"Artwork\"), !purchasedIndexes.includes(index) ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleBuyNow(item, index),\n      style: {\n        padding: \"10px 20px\",\n        fontSize: \"16px\",\n        backgroundColor: \"#28a745\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"5px\",\n        cursor: \"pointer\",\n        marginBottom: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }\n    }, \"Order\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleDownload(item.imageUrl, item.artworkTitle),\n      style: {\n        padding: \"10px 20px\",\n        fontSize: \"16px\",\n        backgroundColor: \"#ffcc00\",\n        color: \"black\",\n        border: \"none\",\n        borderRadius: \"5px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"8px\",\n        cursor: \"pointer\",\n        marginBottom: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FaDownload, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 19\n      }\n    }), \" Download\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleCancel(item.cartItemId, index),\n      style: {\n        padding: \"6px 12px\",\n        fontSize: \"14px\",\n        backgroundColor: \"#dc3545\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"5px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"6px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FaTrash, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }\n    }), \"Cancel\"));\n  })));\n};\nexport default CartPage;","map":{"version":3,"names":["React","useState","useEffect","axios","FaDownload","FaTrash","CartPage","cartItems","setCartItems","purchasedIndexes","setPurchasedIndexes","fetchCartItems","response","get","headers","Authorization","localStorage","getItem","data","error","console","handleBuyNow","item","index","token","post","cartItemId","log","alert","artworkTitle","handleDownload","imageUrl","title","link","document","createElement","href","download","body","appendChild","click","removeChild","handleCancel","delete","updatedItems","filter","_","idx","i","length","style","textAlign","marginTop","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","padding","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","backgroundAttachment","minHeight","width","overflowX","marginBottom","display","flexDirection","alignItems","gap","map","key","borderRadius","backgroundColor","boxShadow","src","alt","height","objectFit","justifyContent","color","fontSize","margin","includes","onClick","border","cursor"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/userboard/CartPage.js"],"sourcesContent":["\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import { FaDownload, FaTrash } from \"react-icons/fa\";\r\n\r\n// const CartPage = () => {\r\n//   const [cartItems, setCartItems] = useState([]);\r\n//   const [purchasedIndexes, setPurchasedIndexes] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     const fetchCartItems = async () => {\r\n//       try {\r\n//         const response = await axios.get(\"http://localhost:8080/api/cart/items\", {\r\n//           headers: {\r\n//             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n//           },\r\n//         });\r\n//         setCartItems(response.data);\r\n//       } catch (error) {\r\n//         console.error(\"Failed to fetch cart items:\", error);\r\n//       }\r\n//     };\r\n\r\n//     fetchCartItems();\r\n//   }, []);\r\n\r\n//   const handleBuyNow = (index) => {\r\n//     setPurchasedIndexes([...purchasedIndexes, index]);\r\n//   };\r\n\r\n//   const handleDownload = (imageUrl, title) => {\r\n//     const link = document.createElement(\"a\");\r\n//     link.href = imageUrl;\r\n//     link.download = `${title || \"artwork\"}.jpg`;\r\n//     document.body.appendChild(link);\r\n//     link.click();\r\n//     document.body.removeChild(link);\r\n//   };\r\n\r\n//   const handleCancel = async (cartItemId, index) => {\r\n//     const token = localStorage.getItem(\"token\");\r\n\r\n//     if (!token) {\r\n//       console.error(\"No token found in localStorage\");\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       const response = await axios.delete(`http://localhost:8080/api/cart/remove/${cartItemId}`, {\r\n//         headers: {\r\n//           Authorization: `Bearer ${token}`,\r\n//         },\r\n//       });\r\n\r\n//       console.log(\"Delete response:\", response.data);\r\n\r\n//       const updatedItems = cartItems.filter((_, idx) => idx !== index);\r\n//       setCartItems(updatedItems);\r\n//       setPurchasedIndexes(purchasedIndexes.filter((i) => i !== index));\r\n//     } catch (error) {\r\n//       console.error(\"Error removing item from cart:\", error.response || error);\r\n//     }\r\n//   };\r\n\r\n//   if (!cartItems || cartItems.length === 0) {\r\n//     return <h2 style={{ textAlign: \"center\", marginTop: \"50px\" }}>Your cart is empty.</h2>;\r\n//   }\r\n\r\n//   return (\r\n//     <div\r\n//       style={{\r\n//         padding: \"20px\",\r\n//         backgroundImage: `url(\"/website.png\")`,\r\n//         backgroundSize: \"100% 100%\",\r\n//         backgroundRepeat: \"no-repeat\",\r\n//         backgroundPosition: \"center\",\r\n//         backgroundAttachment: \"fixed\",\r\n//         minHeight: \"100vh\",\r\n//         width: \"100vw\",\r\n//         overflowX: \"hidden\",\r\n//       }}\r\n//     >\r\n//       <h2 style={{ marginBottom: \"30px\", textAlign: \"left\" }}>Shopping Cart</h2>\r\n\r\n//       <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\", gap: \"30px\" }}>\r\n//         {cartItems.map((item, index) => {\r\n//           console.log(\"Cart item:\", item); // Debug log added here\r\n\r\n//           return (\r\n//             <div\r\n//               key={index}\r\n//               style={{\r\n//                 width: \"280px\",\r\n//                 padding: \"20px\",\r\n//                 borderRadius: \"10px\",\r\n//                 backgroundColor: \"#f9f9f9\",\r\n//                 boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n//               }}\r\n//             >\r\n//               {item.imageUrl ? (\r\n//                 <img\r\n//                   src={item.imageUrl}\r\n//                   alt={item.title || `Art ${index}`}\r\n//                   style={{\r\n//                     width: \"100%\",\r\n//                     height: \"200px\",\r\n//                     objectFit: \"cover\",\r\n//                     borderRadius: \"8px\",\r\n//                     marginBottom: \"10px\",\r\n//                   }}\r\n//                 />\r\n//               ) : (\r\n//                 <div\r\n//                   style={{\r\n//                     width: \"100%\",\r\n//                     height: \"200px\",\r\n//                     backgroundColor: \"#e0e0e0\",\r\n//                     display: \"flex\",\r\n//                     alignItems: \"center\",\r\n//                     justifyContent: \"center\",\r\n//                     borderRadius: \"8px\",\r\n//                     marginBottom: \"10px\",\r\n//                     color: \"#666\",\r\n//                     fontSize: \"14px\",\r\n//                   }}\r\n//                 >\r\n//                   No Image Available\r\n//                 </div>\r\n//               )}\r\n\r\n//               <h3 style={{ margin: \"10px 0 5px\" }}>{item.title || \"Artwork\"}</h3>\r\n//               <p style={{ margin: \"0 0 10px\" }}>{item.price ? `â‚¹${item.price}` : \"\"}</p>\r\n\r\n//               {!purchasedIndexes.includes(index) ? (\r\n//                 <button\r\n//                   onClick={() => handleBuyNow(index)}\r\n//                   style={{\r\n//                     padding: \"10px 20px\",\r\n//                     fontSize: \"16px\",\r\n//                     backgroundColor: \"#28a745\",\r\n//                     color: \"white\",\r\n//                     border: \"none\",\r\n//                     borderRadius: \"5px\",\r\n//                     cursor: \"pointer\",\r\n//                     marginBottom: \"10px\",\r\n//                   }}\r\n//                 >\r\n//                   Buy Now\r\n//                 </button>\r\n//               ) : (\r\n//                 <button\r\n//                   onClick={() => handleDownload(item.imageUrl, item.title)}\r\n//                   style={{\r\n//                     padding: \"10px 20px\",\r\n//                     fontSize: \"16px\",\r\n//                     backgroundColor: \"#ffcc00\",\r\n//                     color: \"black\",\r\n//                     border: \"none\",\r\n//                     borderRadius: \"5px\",\r\n//                     display: \"flex\",\r\n//                     alignItems: \"center\",\r\n//                     gap: \"8px\",\r\n//                     cursor: \"pointer\",\r\n//                     marginBottom: \"10px\",\r\n//                   }}\r\n//                 >\r\n//                   <FaDownload /> Download\r\n//                 </button>\r\n//               )}\r\n\r\n//               <button\r\n//                 onClick={() => handleCancel(item.cartItemId, index)}\r\n//                 style={{\r\n//                   padding: \"6px 12px\",\r\n//                   fontSize: \"14px\",\r\n//                   backgroundColor: \"#dc3545\",\r\n//                   color: \"white\",\r\n//                   border: \"none\",\r\n//                   borderRadius: \"5px\",\r\n//                   cursor: \"pointer\",\r\n//                   display: \"flex\",\r\n//                   alignItems: \"center\",\r\n//                   gap: \"6px\",\r\n//                 }}\r\n//               >\r\n//                 <FaTrash />\r\n//                 Cancel\r\n//               </button>\r\n//             </div>\r\n//           );\r\n//         })}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default CartPage;\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FaDownload, FaTrash } from \"react-icons/fa\";\r\n\r\nconst CartPage = () => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [purchasedIndexes, setPurchasedIndexes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCartItems = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8080/api/cart/items\", {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n        setCartItems(response.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch cart items:\", error);\r\n      }\r\n    };\r\n\r\n    fetchCartItems();\r\n  }, []);\r\n\r\n  const handleBuyNow = async (item, index) => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `http://localhost:8080/api/orders/checkout/single/${item.cartItemId}`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(\"Order placed:\", response.data);\r\n      setPurchasedIndexes([...purchasedIndexes, index]);\r\n      alert(`Order placed successfully for \"${item.artworkTitle}\"`);\r\n    } catch (error) {\r\n      console.error(\"Order failed:\", error.response || error);\r\n      alert(\"Failed to place order. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleDownload = (imageUrl, title) => {\r\n    const link = document.createElement(\"a\");\r\n    link.href = imageUrl;\r\n    link.download = `${title || \"artwork\"}.jpg`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const handleCancel = async (cartItemId, index) => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      console.error(\"No token found in localStorage\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.delete(`http://localhost:8080/api/cart/remove/${cartItemId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      console.log(\"Delete response:\", response.data);\r\n\r\n      const updatedItems = cartItems.filter((_, idx) => idx !== index);\r\n      setCartItems(updatedItems);\r\n      setPurchasedIndexes(purchasedIndexes.filter((i) => i !== index));\r\n    } catch (error) {\r\n      console.error(\"Error removing item from cart:\", error.response || error);\r\n    }\r\n  };\r\n\r\n  if (!cartItems || cartItems.length === 0) {\r\n    return <h2 style={{ textAlign: \"center\", marginTop: \"50px\" }}>Your cart is empty.</h2>;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: \"20px\",\r\n        backgroundImage: `url(\"/website.png\")`,\r\n        backgroundSize: \"100% 100%\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundPosition: \"center\",\r\n        backgroundAttachment: \"fixed\",\r\n        minHeight: \"100vh\",\r\n        width: \"100vw\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <h2 style={{ marginBottom: \"30px\", textAlign: \"left\" }}>Shopping Cart</h2>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\", gap: \"30px\" }}>\r\n        {cartItems.map((item, index) => {\r\n          console.log(\"Cart item:\", item);\r\n\r\n          return (\r\n            <div\r\n              key={index}\r\n              style={{\r\n                width: \"280px\",\r\n                padding: \"20px\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"#f9f9f9\",\r\n                boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n              }}\r\n            >\r\n              {item.imageUrl ? (\r\n                <img\r\n                  src={item.imageUrl}\r\n                  alt={item.artworkTitle || `Art ${index}`}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"200px\",\r\n                    objectFit: \"cover\",\r\n                    borderRadius: \"8px\",\r\n                    marginBottom: \"10px\",\r\n                  }}\r\n                />\r\n              ) : (\r\n                <div\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"200px\",\r\n                    backgroundColor: \"#e0e0e0\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    borderRadius: \"8px\",\r\n                    marginBottom: \"10px\",\r\n                    color: \"#666\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                >\r\n                  No Image Available\r\n                </div>\r\n              )}\r\n\r\n              <h3 style={{ margin: \"10px 0 5px\" }}>{item.artworkTitle || \"Artwork\"}</h3>\r\n\r\n              {!purchasedIndexes.includes(index) ? (\r\n                <button\r\n                  onClick={() => handleBuyNow(item, index)}\r\n                  style={{\r\n                    padding: \"10px 20px\",\r\n                    fontSize: \"16px\",\r\n                    backgroundColor: \"#28a745\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    borderRadius: \"5px\",\r\n                    cursor: \"pointer\",\r\n                    marginBottom: \"10px\",\r\n                  }}\r\n                >\r\n                  Order\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => handleDownload(item.imageUrl, item.artworkTitle)}\r\n                  style={{\r\n                    padding: \"10px 20px\",\r\n                    fontSize: \"16px\",\r\n                    backgroundColor: \"#ffcc00\",\r\n                    color: \"black\",\r\n                    border: \"none\",\r\n                    borderRadius: \"5px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"8px\",\r\n                    cursor: \"pointer\",\r\n                    marginBottom: \"10px\",\r\n                  }}\r\n                >\r\n                  <FaDownload /> Download\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => handleCancel(item.cartItemId, index)}\r\n                style={{\r\n                  padding: \"6px 12px\",\r\n                  fontSize: \"14px\",\r\n                  backgroundColor: \"#dc3545\",\r\n                  color: \"white\",\r\n                  border: \"none\",\r\n                  borderRadius: \"5px\",\r\n                  cursor: \"pointer\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"6px\",\r\n                }}\r\n              >\r\n                <FaTrash />\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":";AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,EAAEC,OAAO,QAAQ,gBAAgB;AAEpD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACQ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE5DC,SAAS,CAAC,MAAM;IACd,MAAMS,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,sCAAsC,EAAE;UACvEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACFT,YAAY,CAACI,QAAQ,CAACM,IAAI,CAAC;MAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IAEDR,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,YAAY,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,KAAK;IAC1C,MAAMC,KAAK,GAAGR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI;MACF,MAAML,QAAQ,GAAG,MAAMT,KAAK,CAACsB,IAAI,CAC/B,oDAAoDH,IAAI,CAACI,UAAU,EAAE,EACrE,CAAC,CAAC,EACF;QACEZ,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUS,KAAK;QAChC;MACF,CACF,CAAC;MAEDJ,OAAO,CAACO,GAAG,CAAC,eAAe,EAAEf,QAAQ,CAACM,IAAI,CAAC;MAC3CR,mBAAmB,CAAC,CAAC,GAAGD,gBAAgB,EAAEc,KAAK,CAAC,CAAC;MACjDK,KAAK,CAAC,kCAAkCN,IAAI,CAACO,YAAY,GAAG,CAAC;IAC/D,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACP,QAAQ,IAAIO,KAAK,CAAC;MACvDS,KAAK,CAAC,0CAA0C,CAAC;IACnD;EACF,CAAC;EAED,MAAME,cAAc,GAAGA,CAACC,QAAQ,EAAEC,KAAK,KAAK;IAC1C,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACxCF,IAAI,CAACG,IAAI,GAAGL,QAAQ;IACpBE,IAAI,CAACI,QAAQ,GAAG,GAAGL,KAAK,IAAI,SAAS,MAAM;IAC3CE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;IAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;IACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;EACjC,CAAC;EAED,MAAMS,YAAY,GAAG,MAAAA,CAAOhB,UAAU,EAAEH,KAAK,KAAK;IAChD,MAAMC,KAAK,GAAGR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI,CAACO,KAAK,EAAE;MACVJ,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAC;MAC/C;IACF;IAEA,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAMT,KAAK,CAACwC,MAAM,CAAC,yCAAyCjB,UAAU,EAAE,EAAE;QACzFZ,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUS,KAAK;QAChC;MACF,CAAC,CAAC;MAEFJ,OAAO,CAACO,GAAG,CAAC,kBAAkB,EAAEf,QAAQ,CAACM,IAAI,CAAC;MAE9C,MAAM0B,YAAY,GAAGrC,SAAS,CAACsC,MAAM,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAKA,GAAG,KAAKxB,KAAK,CAAC;MAChEf,YAAY,CAACoC,YAAY,CAAC;MAC1BlC,mBAAmB,CAACD,gBAAgB,CAACoC,MAAM,CAAEG,CAAC,IAAKA,CAAC,KAAKzB,KAAK,CAAC,CAAC;IAClE,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAACP,QAAQ,IAAIO,KAAK,CAAC;IAC1E;EACF,CAAC;EAED,IAAI,CAACZ,SAAS,IAAIA,SAAS,CAAC0C,MAAM,KAAK,CAAC,EAAE;IACxC,oBAAOjD,KAAA,CAAAmC,aAAA;MAAIe,KAAK,EAAE;QAAEC,SAAS,EAAE,QAAQ;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,qBAAuB,CAAC;EACxF;EAEA,oBACE1D,KAAA,CAAAmC,aAAA;IACEe,KAAK,EAAE;MACLS,OAAO,EAAE,MAAM;MACfC,eAAe,EAAE,qBAAqB;MACtCC,cAAc,EAAE,WAAW;MAC3BC,gBAAgB,EAAE,WAAW;MAC7BC,kBAAkB,EAAE,QAAQ;MAC5BC,oBAAoB,EAAE,OAAO;MAC7BC,SAAS,EAAE,OAAO;MAClBC,KAAK,EAAE,OAAO;MACdC,SAAS,EAAE;IACb,CAAE;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEF1D,KAAA,CAAAmC,aAAA;IAAIe,KAAK,EAAE;MAAEkB,YAAY,EAAE,MAAM;MAAEjB,SAAS,EAAE;IAAO,CAAE;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,eAAiB,CAAC,eAE1E1D,KAAA,CAAAmC,aAAA;IAAKe,KAAK,EAAE;MAAEmB,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEC,UAAU,EAAE,YAAY;MAAEC,GAAG,EAAE;IAAO,CAAE;IAAAnB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC7FnD,SAAS,CAACkE,GAAG,CAAC,CAACnD,IAAI,EAAEC,KAAK,KAAK;IAC9BH,OAAO,CAACO,GAAG,CAAC,YAAY,EAAEL,IAAI,CAAC;IAE/B,oBACEtB,KAAA,CAAAmC,aAAA;MACEuC,GAAG,EAAEnD,KAAM;MACX2B,KAAK,EAAE;QACLgB,KAAK,EAAE,OAAO;QACdP,OAAO,EAAE,MAAM;QACfgB,YAAY,EAAE,MAAM;QACpBC,eAAe,EAAE,SAAS;QAC1BC,SAAS,EAAE;MACb,CAAE;MAAAxB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEDpC,IAAI,CAACS,QAAQ,gBACZ/B,KAAA,CAAAmC,aAAA;MACE2C,GAAG,EAAExD,IAAI,CAACS,QAAS;MACnBgD,GAAG,EAAEzD,IAAI,CAACO,YAAY,IAAI,OAAON,KAAK,EAAG;MACzC2B,KAAK,EAAE;QACLgB,KAAK,EAAE,MAAM;QACbc,MAAM,EAAE,OAAO;QACfC,SAAS,EAAE,OAAO;QAClBN,YAAY,EAAE,KAAK;QACnBP,YAAY,EAAE;MAChB,CAAE;MAAAf,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACH,CAAC,gBAEF1D,KAAA,CAAAmC,aAAA;MACEe,KAAK,EAAE;QACLgB,KAAK,EAAE,MAAM;QACbc,MAAM,EAAE,OAAO;QACfJ,eAAe,EAAE,SAAS;QAC1BP,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBW,cAAc,EAAE,QAAQ;QACxBP,YAAY,EAAE,KAAK;QACnBP,YAAY,EAAE,MAAM;QACpBe,KAAK,EAAE,MAAM;QACbC,QAAQ,EAAE;MACZ,CAAE;MAAA/B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACH,oBAEI,CACN,eAED1D,KAAA,CAAAmC,aAAA;MAAIe,KAAK,EAAE;QAAEmC,MAAM,EAAE;MAAa,CAAE;MAAAhC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEpC,IAAI,CAACO,YAAY,IAAI,SAAc,CAAC,EAEzE,CAACpB,gBAAgB,CAAC6E,QAAQ,CAAC/D,KAAK,CAAC,gBAChCvB,KAAA,CAAAmC,aAAA;MACEoD,OAAO,EAAEA,CAAA,KAAMlE,YAAY,CAACC,IAAI,EAAEC,KAAK,CAAE;MACzC2B,KAAK,EAAE;QACLS,OAAO,EAAE,WAAW;QACpByB,QAAQ,EAAE,MAAM;QAChBR,eAAe,EAAE,SAAS;QAC1BO,KAAK,EAAE,OAAO;QACdK,MAAM,EAAE,MAAM;QACdb,YAAY,EAAE,KAAK;QACnBc,MAAM,EAAE,SAAS;QACjBrB,YAAY,EAAE;MAChB,CAAE;MAAAf,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACH,OAEO,CAAC,gBAET1D,KAAA,CAAAmC,aAAA;MACEoD,OAAO,EAAEA,CAAA,KAAMzD,cAAc,CAACR,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACO,YAAY,CAAE;MAChEqB,KAAK,EAAE;QACLS,OAAO,EAAE,WAAW;QACpByB,QAAQ,EAAE,MAAM;QAChBR,eAAe,EAAE,SAAS;QAC1BO,KAAK,EAAE,OAAO;QACdK,MAAM,EAAE,MAAM;QACdb,YAAY,EAAE,KAAK;QACnBN,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBC,GAAG,EAAE,KAAK;QACViB,MAAM,EAAE,SAAS;QACjBrB,YAAY,EAAE;MAChB,CAAE;MAAAf,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEF1D,KAAA,CAAAmC,aAAA,CAAC/B,UAAU;MAAAiD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,aACR,CACT,eAED1D,KAAA,CAAAmC,aAAA;MACEoD,OAAO,EAAEA,CAAA,KAAM7C,YAAY,CAACpB,IAAI,CAACI,UAAU,EAAEH,KAAK,CAAE;MACpD2B,KAAK,EAAE;QACLS,OAAO,EAAE,UAAU;QACnByB,QAAQ,EAAE,MAAM;QAChBR,eAAe,EAAE,SAAS;QAC1BO,KAAK,EAAE,OAAO;QACdK,MAAM,EAAE,MAAM;QACdb,YAAY,EAAE,KAAK;QACnBc,MAAM,EAAE,SAAS;QACjBpB,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBC,GAAG,EAAE;MACP,CAAE;MAAAnB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEF1D,KAAA,CAAAmC,aAAA,CAAC9B,OAAO;MAAAgD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,UAEL,CACL,CAAC;EAEV,CAAC,CACE,CACF,CAAC;AAEV,CAAC;AAED,eAAepD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}