{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\Header.js\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"; // ✅ Correct import for React Router v5\nimport Register from \"./auth/Register\";\nimport Login from \"./auth/Login\";\nimport \"./Header.css\";\nconst Header = () => {\n  const history = useHistory(); // ✅ Initialize history for navigation\n  const [openRegister, setOpenRegister] = useState(false);\n  const [openLogin, setOpenLogin] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState(null); // ✅ Define userRole state\n\n  const handleLogin = (token, role) => {\n    console.log(\"✅ User logged in with token:\", token);\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"role\", role); // ✅ Store role\n    setIsAuthenticated(true);\n    setUserRole(role); // ✅ Update state\n\n    // ✅ Use history correctly for navigation\n    if (role === \"artist\") {\n      history.push(\"/artist-dashboard\");\n    } else {\n      history.push(\"/dashboard\");\n    }\n  };\n\n  // ✅ Define handleLogout function\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    localStorage.removeItem(\"username\");\n    history.push(\"/login\"); // Redirect to login page\n  };\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"tinted-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Welcome To ArtFusion\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button logout\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Register, {\n    open: openRegister,\n    onClose: () => setOpenRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    open: openLogin,\n    onClose: () => setOpenLogin(false),\n    onLogin: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Header;","map":{"version":3,"names":["React","useState","useHistory","Register","Login","Header","history","openRegister","setOpenRegister","openLogin","setOpenLogin","isAuthenticated","setIsAuthenticated","userRole","setUserRole","handleLogin","token","role","console","log","localStorage","setItem","push","handleLogout","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","open","onClose","onLogin"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/Header.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\"; // ✅ Correct import for React Router v5\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory(); // ✅ Initialize history for navigation\r\n  const [openRegister, setOpenRegister] = useState(false);\r\n  const [openLogin, setOpenLogin] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [userRole, setUserRole] = useState(null); // ✅ Define userRole state\r\n\r\n  const handleLogin = (token, role) => {\r\n    console.log(\"✅ User logged in with token:\", token);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"role\", role); // ✅ Store role\r\n    setIsAuthenticated(true);\r\n    setUserRole(role); // ✅ Update state\r\n\r\n    // ✅ Use history correctly for navigation\r\n    if (role === \"artist\") {\r\n      history.push(\"/artist-dashboard\");\r\n    } else {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n\r\n  // ✅ Define handleLogout function\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    localStorage.removeItem(\"username\");\r\n    history.push(\"/login\"); // Redirect to login page\r\n  };\r\n  return (\r\n    <header className=\"tinted-header\">\r\n      <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n      <div className=\"button-container\">\r\n        {isAuthenticated ? (\r\n          <>\r\n            <button\r\n              className=\"auth-button\"\r\n              onClick={() => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")}\r\n            >\r\n              Dashboard\r\n            </button>\r\n            <button className=\"auth-button logout\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n              Register\r\n            </button>\r\n            <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n              Login\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Signup & Login Dialogs */}\r\n      <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n      <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}