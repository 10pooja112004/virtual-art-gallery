{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pallavi\\\\Desktop\\\\React\\\\firstapp\\\\src\\\\components\\\\Header.js\";\n// import React, { useState } from \"react\";\n// import { useHistory } from \"react-router-dom\"; // âœ… Correct import for React Router v5\n// import Register from \"./auth/Register\";\n// import Login from \"./auth/Login\";\n// import \"./Header.css\";\n\n// const Header = () => {\n//   const history = useHistory(); // âœ… Initialize history for navigation\n//   const [openRegister, setOpenRegister] = useState(false);\n//   const [openLogin, setOpenLogin] = useState(false);\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [userRole, setUserRole] = useState(null); // âœ… Define userRole state\n\n//   const handleLogin = (token, role) => {\n//     console.log(\"âœ… User logged in with token:\", token);\n//     localStorage.setItem(\"token\", token);\n//     localStorage.setItem(\"role\", role); // âœ… Store role\n//     setIsAuthenticated(true);\n//     setUserRole(role); // âœ… Update state\n\n//     // âœ… Use history correctly for navigation\n//     if (role === \"artist\") {\n//       history.push(\"/artist-dashboard\");\n//     } else {\n//       history.push(\"/dashboard\");\n//     }\n//   };\n\n//   // âœ… Define handleLogout function\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"role\");\n//     localStorage.removeItem(\"username\");\n//     history.push(\"/login\"); // Redirect to login page\n//   };\n//   return (\n//     <header className=\"tinted-header\">\n//       <h1 className=\"header-title\">Welcome To ArtFusion</h1>\n//       <div className=\"button-container\">\n//         {isAuthenticated ? (\n//           <>\n//             <button\n//               className=\"auth-button\"\n//               onClick={() => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")}\n//             >\n//               Dashboard\n//             </button>\n//             <button className=\"auth-button logout\" onClick={handleLogout}>\n//               Logout\n//             </button>\n//           </>\n//         ) : (\n//           <>\n//             <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\n//               Register\n//             </button>\n//             <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\n//               Login\n//             </button>\n//           </>\n//         )}\n//       </div>\n\n//       {/* Signup & Login Dialogs */}\n//       <Register open={openRegister} onClose={() => setOpenRegister(false)} />\n//       <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\n//     </header>\n//   );\n// };\n\n// export default Header;\nimport React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\"; // âœ… Import NavLink for navigation\nimport Register from \"./auth/Register\";\nimport Login from \"./auth/Login\";\nimport \"./Header.css\";\nconst Header = () => {\n  var _localStorage$getItem;\n  const [openRegister, setOpenRegister] = useState(false);\n  const [openLogin, setOpenLogin] = useState(false);\n\n  // âœ… Retrieve authentication state from localStorage\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem(\"token\"));\n  const [userRole, setUserRole] = useState(((_localStorage$getItem = localStorage.getItem(\"role\")) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.toLowerCase()) || null);\n  useEffect(() => {\n    var _localStorage$getItem2;\n    setIsAuthenticated(!!localStorage.getItem(\"token\"));\n    setUserRole(((_localStorage$getItem2 = localStorage.getItem(\"role\")) === null || _localStorage$getItem2 === void 0 ? void 0 : _localStorage$getItem2.toLowerCase()) || null);\n  }, []);\n  const handleLogin = (token, role) => {\n    console.log(\"âœ… User logged in with token:\", token);\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"role\", role.toLowerCase()); // ðŸ”¹ Store role in lowercase for consistency\n    setIsAuthenticated(true);\n    setUserRole(role.toLowerCase());\n  };\n\n  // âœ… Logout function\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsAuthenticated(false);\n    setUserRole(null);\n  };\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"tinted-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"Welcome To ArtFusion\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\",\n    className: \"auth-button\",\n    activeClassName: \"active-link\" // ðŸ”¹ Highlights the active link\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button logout\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"auth-button\",\n    onClick: () => setOpenLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Register, {\n    open: openRegister,\n    onClose: () => setOpenRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    open: openLogin,\n    onClose: () => setOpenLogin(false),\n    onLogin: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Header;","map":{"version":3,"names":["React","useState","useEffect","NavLink","Register","Login","Header","_localStorage$getItem","openRegister","setOpenRegister","openLogin","setOpenLogin","isAuthenticated","setIsAuthenticated","localStorage","getItem","userRole","setUserRole","toLowerCase","_localStorage$getItem2","handleLogin","token","role","console","log","setItem","handleLogout","clear","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","to","activeClassName","onClick","open","onClose","onLogin"],"sources":["C:/Users/Pallavi/Desktop/React/firstapp/src/components/Header.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { useHistory } from \"react-router-dom\"; // âœ… Correct import for React Router v5\r\n// import Register from \"./auth/Register\";\r\n// import Login from \"./auth/Login\";\r\n// import \"./Header.css\";\r\n\r\n// const Header = () => {\r\n//   const history = useHistory(); // âœ… Initialize history for navigation\r\n//   const [openRegister, setOpenRegister] = useState(false);\r\n//   const [openLogin, setOpenLogin] = useState(false);\r\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n//   const [userRole, setUserRole] = useState(null); // âœ… Define userRole state\r\n\r\n//   const handleLogin = (token, role) => {\r\n//     console.log(\"âœ… User logged in with token:\", token);\r\n//     localStorage.setItem(\"token\", token);\r\n//     localStorage.setItem(\"role\", role); // âœ… Store role\r\n//     setIsAuthenticated(true);\r\n//     setUserRole(role); // âœ… Update state\r\n\r\n//     // âœ… Use history correctly for navigation\r\n//     if (role === \"artist\") {\r\n//       history.push(\"/artist-dashboard\");\r\n//     } else {\r\n//       history.push(\"/dashboard\");\r\n//     }\r\n//   };\r\n\r\n//   // âœ… Define handleLogout function\r\n//   const handleLogout = () => {\r\n//     localStorage.removeItem(\"token\");\r\n//     localStorage.removeItem(\"role\");\r\n//     localStorage.removeItem(\"username\");\r\n//     history.push(\"/login\"); // Redirect to login page\r\n//   };\r\n//   return (\r\n//     <header className=\"tinted-header\">\r\n//       <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n//       <div className=\"button-container\">\r\n//         {isAuthenticated ? (\r\n//           <>\r\n//             <button\r\n//               className=\"auth-button\"\r\n//               onClick={() => history.push(userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\")}\r\n//             >\r\n//               Dashboard\r\n//             </button>\r\n//             <button className=\"auth-button logout\" onClick={handleLogout}>\r\n//               Logout\r\n//             </button>\r\n//           </>\r\n//         ) : (\r\n//           <>\r\n//             <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n//               Register\r\n//             </button>\r\n//             <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n//               Login\r\n//             </button>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n\r\n//       {/* Signup & Login Dialogs */}\r\n//       <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n//       <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n//     </header>\r\n//   );\r\n// };\r\n\r\n// export default Header;\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\"; // âœ… Import NavLink for navigation\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const [openRegister, setOpenRegister] = useState(false);\r\n  const [openLogin, setOpenLogin] = useState(false);\r\n  \r\n  // âœ… Retrieve authentication state from localStorage\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem(\"token\"));\r\n  const [userRole, setUserRole] = useState(localStorage.getItem(\"role\")?.toLowerCase() || null);\r\n\r\n  useEffect(() => {\r\n    setIsAuthenticated(!!localStorage.getItem(\"token\"));\r\n    setUserRole(localStorage.getItem(\"role\")?.toLowerCase() || null);\r\n  }, []);\r\n\r\n  const handleLogin = (token, role) => {\r\n    console.log(\"âœ… User logged in with token:\", token);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"role\", role.toLowerCase()); // ðŸ”¹ Store role in lowercase for consistency\r\n    setIsAuthenticated(true);\r\n    setUserRole(role.toLowerCase());\r\n  };\r\n\r\n  // âœ… Logout function\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setIsAuthenticated(false);\r\n    setUserRole(null);\r\n  };\r\n\r\n  return (\r\n    <header className=\"tinted-header\">\r\n      <h1 className=\"header-title\">Welcome To ArtFusion</h1>\r\n      <div className=\"button-container\">\r\n        {isAuthenticated ? (\r\n          <>\r\n            {/* âœ… NavLink for Navigation Instead of history.push */}\r\n            <NavLink \r\n              to={userRole === \"artist\" ? \"/artist-dashboard\" : \"/dashboard\"} \r\n              className=\"auth-button\"\r\n              activeClassName=\"active-link\" // ðŸ”¹ Highlights the active link\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n\r\n            <button className=\"auth-button logout\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className=\"auth-button\" onClick={() => setOpenRegister(true)}>\r\n              Register\r\n            </button>\r\n            <button className=\"auth-button\" onClick={() => setOpenLogin(true)}>\r\n              Login\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Signup & Login Dialogs */}\r\n      <Register open={openRegister} onClose={() => setOpenRegister(false)} />\r\n      <Login open={openLogin} onClose={() => setOpenLogin(false)} onLogin={handleLogin} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}